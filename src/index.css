@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply box-border;
  }
  body {
    @apply m-0 min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-black text-slate-200 font-sans flex justify-center items-center p-2 sm:p-4;
  }
  #root {
    @apply min-h-screen w-full flex items-center justify-center;
  }
  html.light body {
    @apply bg-gradient-to-b from-slate-50 to-slate-100 text-slate-800;
  }

  /* Scrollbar: alinhado ao design (slate + sky, cantos arredondados) */
  * {
    scrollbar-width: thin;
    scrollbar-color: #475569 #1e293b;
  }
  html.light * {
    scrollbar-color: #94a3b8 #e2e8f0;
  }
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  *::-webkit-scrollbar-track {
    background: #1e293b;
    border-radius: 4px;
  }
  *::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #475569 0%, #334155 100%);
    border-radius: 4px;
    border: 2px solid #1e293b;
  }
  *::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #64748b 0%, #475569 100%);
  }
  *::-webkit-scrollbar-thumb:active {
    background: #0ea5e9;
  }
  *::-webkit-scrollbar-corner {
    background: #1e293b;
    border-radius: 4px;
  }
  html.light *::-webkit-scrollbar-track {
    background: #e2e8f0;
  }
  html.light *::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #cbd5e1 0%, #94a3b8 100%);
    border-color: #e2e8f0;
  }
  html.light *::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #94a3b8 0%, #64748b 100%);
  }
  html.light *::-webkit-scrollbar-thumb:active {
    background: #0ea5e9;
  }
  html.light *::-webkit-scrollbar-corner {
    background: #e2e8f0;
  }
}

@layer components {
  /* Glassmorphism panels */
  .glass-panel {
    @apply rounded-2xl border border-slate-700/50 bg-slate-900/90 shadow-2xl backdrop-blur-[18px];
  }
  html.light .glass-panel {
    @apply border-slate-200/60 bg-white/80 shadow-xl;
  }
  .glass-card {
    @apply rounded-2xl border border-slate-700/50 bg-slate-900/60 backdrop-blur-sm;
  }
  html.light .glass-card {
    @apply border-slate-200 bg-white/70;
  }
  /* Inputs */
  .glass-input {
    @apply w-full rounded-xl border border-slate-600 bg-slate-900/60 px-4 py-3.5 text-slate-200 placeholder-slate-500 outline-none transition-all duration-300 backdrop-blur-sm focus:border-sky-400 focus:ring-2 focus:ring-sky-400/20;
  }
  html.light .glass-input {
    @apply border-slate-300 bg-slate-50/80 text-slate-900 placeholder-slate-400 focus:border-sky-500 focus:ring-sky-500/25;
  }
  /* Dropdown (select) elegante: seta custom, transições, tema */
  select.glass-input {
    appearance: none;
    -webkit-appearance: none;
    cursor: pointer;
    padding-right: 2.5rem;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1.25rem 1.25rem;
    transition: border-color 200ms ease, box-shadow 200ms ease;
  }
  select.glass-input:hover {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%230ea5e9' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  }
  select.glass-input:focus {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%230ea5e9' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  }
  html.light select.glass-input {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  }
  html.light select.glass-input:hover,
  html.light select.glass-input:focus {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%230ea5e9' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  }
  select.glass-input option {
    background-color: #1e293b;
    color: #e2e8f0;
  }
  html.light select.glass-input option {
    background-color: #f8fafc;
    color: #1e293b;
  }
  /* GlassSelect custom dropdown (lista aberta) */
  .glass-select-dropdown {
    @apply border-slate-600 bg-slate-800/95 shadow-xl;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
  }
  .glass-select-option {
    @apply text-slate-200 transition-colors;
  }
  .glass-select-option:hover {
    @apply bg-slate-600/70 text-white;
  }
  .glass-select-option[aria-selected="true"] {
    @apply bg-sky-500/25 text-sky-200;
  }
  html.light .glass-select-dropdown {
    @apply border-slate-200 bg-white shadow-xl;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.08);
  }
  html.light .glass-select-option {
    @apply text-slate-700;
  }
  html.light .glass-select-option:hover {
    @apply bg-slate-100 text-slate-900;
  }
  html.light .glass-select-option[aria-selected="true"] {
    @apply bg-sky-500/20 text-sky-700;
  }
  /* Primary button */
  .btn-primary {
    @apply rounded-full bg-gradient-to-br from-sky-400 to-sky-600 px-5 py-2.5 font-semibold text-slate-900 shadow-lg transition hover:from-sky-500 hover:to-sky-700 hover:shadow-xl active:scale-[0.98];
  }
  /* Tab / option pill */
  .pill {
    @apply inline-flex items-center gap-1.5 rounded-full border border-slate-600 bg-slate-900/90 px-4 py-2.5 text-sm text-slate-400 transition cursor-pointer;
  }
  html.light .pill {
    @apply border-slate-300 bg-white/80 text-slate-600;
  }
  .pill-active {
    @apply border-transparent bg-gradient-to-br from-sky-400 to-sky-600 text-slate-900;
  }
  /* Sidebar dashboard */
  .sidebar {
    @apply border-slate-700/50;
  }
  html.light .sidebar {
    @apply border-slate-200/60 bg-white/70;
  }
  .sidebar-item-active {
    @apply text-sky-600;
  }
  html.light .sidebar-item-active {
    @apply from-sky-400/15 to-sky-500/10 border-sky-400/50 text-sky-600;
  }
  /* Tooltips Recharts: garantir fundo sólido */
  .recharts-tooltip-wrapper,
  .recharts-default-tooltip {
    background-color: #1e293b !important;
    border: 1px solid #475569;
    border-radius: 12px;
    padding: 8px 12px;
  }
  html.light .recharts-tooltip-wrapper,
  html.light .recharts-default-tooltip {
    background-color: #f8fafc !important;
    border-color: #e2e8f0;
    color: #1e293b;
  }
  /* Table panels: theme-aware wrapper and cells */
  .table-panel {
    @apply rounded-xl border border-slate-600 overflow-x-auto;
  }
  .table-panel th {
    @apply border border-slate-600 bg-slate-800/90 px-2 py-1.5 text-left font-medium text-slate-300;
  }
  .table-panel td {
    @apply border border-slate-600 px-2 py-1.5 text-slate-200;
  }
  html.light .table-panel {
    @apply border-slate-300 bg-white/80;
  }
  html.light .table-panel th {
    @apply border-slate-300 bg-slate-100 text-slate-700;
  }
  html.light .table-panel td {
    @apply border-slate-200 text-slate-700;
  }
  /* Horizontal scroll for tables (touch-friendly on mobile) */
  .overflow-x-touch {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  /* Mini radio volume slider */
  .mini-radio-volume {
    @apply w-full h-1.5 rounded-full appearance-none cursor-pointer accent-sky-500;
  }
  .mini-radio-volume::-webkit-slider-thumb {
    @apply appearance-none w-3.5 h-3.5 rounded-full shadow-md transition-colors cursor-pointer;
  }
  .mini-radio-volume::-moz-range-thumb {
    @apply w-3.5 h-3.5 rounded-full border-0 cursor-pointer;
  }
  html:not(.light) .mini-radio-volume {
    @apply bg-slate-600;
  }
  html:not(.light) .mini-radio-volume::-webkit-slider-thumb {
    @apply bg-slate-300;
  }
  html:not(.light) .mini-radio-volume::-webkit-slider-thumb:hover {
    @apply bg-sky-400;
  }
  html:not(.light) .mini-radio-volume::-moz-range-thumb {
    @apply bg-sky-500;
  }
  html.light .mini-radio-volume {
    @apply bg-slate-200;
  }
  html.light .mini-radio-volume::-webkit-slider-thumb {
    @apply bg-slate-600;
  }
  html.light .mini-radio-volume::-webkit-slider-thumb:hover {
    @apply bg-sky-500;
  }
  html.light .mini-radio-volume::-moz-range-thumb {
    @apply bg-sky-500;
  }
  /* Message cards (chat / slate) */
  .msg-card {
    @apply rounded-xl border border-slate-600 bg-slate-800/50 px-4 py-2.5;
  }
  html.light .msg-card {
    @apply border-slate-300 bg-slate-50/80;
  }
  .msg-card-mine {
    @apply border-sky-600 bg-sky-900/40;
  }
  html.light .msg-card-mine {
    @apply border-sky-300 bg-sky-50;
  }
  /* Comunicados (amber) */
  .com-card {
    @apply rounded-xl border border-amber-500/50 bg-amber-500/15 px-4 py-2.5;
  }
  html.light .com-card {
    @apply border-amber-300 bg-amber-50/90;
  }
}
